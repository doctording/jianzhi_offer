<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/sword_at_offer/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/sword_at_offer/static/css/tango.css">
    <link rel="shortcut icon" href="/sword_at_offer/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/sword_at_offer/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Java8 interface deafaul static - 剑指Offer</title>
    <meta name="keywords" content="algorithm，python"/>
    <meta name="description" content="for python and algorithm"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/sword_at_offer/">Home</a>&nbsp;&#187;&nbsp;<a href="/sword_at_offer/#java8">java8</a>&nbsp;&#187;&nbsp;Java8 interface deafaul static
    <span class="updated">Page Updated&nbsp;
      2019-03-21 13:00
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">Java8 interface deafaul static</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#java8-interface-default-static">Java8 interface default static</a><ul>
<li><a href="#1">实例1</a></li>
<li><a href="#2">实例2</a></li>
<li><a href="#interfacedefault">interface的default方法 与 继承</a></li>
<li><a href="#interfaceinterface">interface继承interface</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="java8-interface-default-static">Java8 interface default static</h1>
<h2 id="1">实例1</h2>
<ul>
<li>interface Animal</li>
</ul>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * @Author mubi</span>
<span class="cm"> * @Date 2019/3/21 12:41 PM</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Animal</span> <span class="o">{</span>

    <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>

    <span class="cm">/**</span>
<span class="cm">     * 静态方法</span>
<span class="cm">     */</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">sleep</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;static sleep&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * 默认方法</span>
<span class="cm">     */</span>
    <span class="k">default</span> <span class="kt">void</span> <span class="nf">eat</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;default eat&quot;</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>


<ul>
<li>Cat</li>
</ul>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * @Author mubi</span>
<span class="cm"> * @Date 2019/3/21 12:45 PM</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Cat</span> <span class="kd">implements</span> <span class="n">Animal</span><span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;cat play&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<ul>
<li>Dog</li>
</ul>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * @Author mubi</span>
<span class="cm"> * @Date 2019/3/21 12:45 PM</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Dog</span> <span class="kd">implements</span> <span class="n">Animal</span><span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;dog play&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">eat</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;dog eat&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<ul>
<li>main</li>
</ul>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * @Author mubi</span>
<span class="cm"> * @Date 2019/3/17 7:56 PM</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">Dog</span> <span class="n">dog</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dog</span><span class="o">();</span>
        <span class="n">Cat</span> <span class="n">cat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cat</span><span class="o">();</span>

        <span class="n">dog</span><span class="o">.</span><span class="na">eat</span><span class="o">();</span>
        <span class="n">dog</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>

        <span class="n">cat</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
        <span class="n">cat</span><span class="o">.</span><span class="na">eat</span><span class="o">();</span>

        <span class="n">Animal</span><span class="o">.</span><span class="na">sleep</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>
<span class="cm">/*output</span>

<span class="cm">dog eat</span>
<span class="cm">dog play</span>
<span class="cm">cat play</span>
<span class="cm">default eat</span>
<span class="cm">static sleep</span>

<span class="cm"> */</span>
</pre></div>


<h2 id="2">实例2</h2>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>

    <span class="n">String</span> <span class="nf">what</span><span class="o">();</span>

    <span class="k">default</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;before:&quot;</span> <span class="o">+</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">what</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;after:&quot;</span> <span class="o">+</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">C</span> <span class="kd">implements</span> <span class="n">A</span><span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;I&#39;m C&quot;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">D</span> <span class="kd">implements</span> <span class="n">A</span><span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;I&#39;m D&quot;</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;D:&quot;</span> <span class="o">+</span> <span class="n">what</span><span class="o">());</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
       <span class="k">new</span> <span class="nf">C</span><span class="o">().</span><span class="na">say</span><span class="o">();</span>
       <span class="k">new</span> <span class="nf">D</span><span class="o">().</span><span class="na">say</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>
<span class="cm">/*output</span>

<span class="cm">before:1553145296092</span>
<span class="cm">I&#39;m C</span>
<span class="cm">after:1553145296093</span>
<span class="cm">D:I&#39;m D</span>

<span class="cm"> */</span>
</pre></div>


<h2 id="interfacedefault"><code>interface</code>的<code>default</code>方法 与 继承</h2>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>
    <span class="k">default</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;A&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">B</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;B&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">C</span> <span class="kd">implements</span> <span class="n">A</span><span class="o">{</span>

<span class="o">}</span>
<span class="kd">class</span> <span class="nc">D</span> <span class="kd">extends</span> <span class="n">B</span><span class="o">{</span>

<span class="o">}</span>
<span class="kd">class</span> <span class="nc">E</span> <span class="kd">extends</span> <span class="n">B</span> <span class="kd">implements</span> <span class="n">A</span><span class="o">{</span>

<span class="o">}</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
       <span class="k">new</span> <span class="nf">C</span><span class="o">().</span><span class="na">say</span><span class="o">();</span> <span class="c1">// A</span>
       <span class="k">new</span> <span class="nf">D</span><span class="o">().</span><span class="na">say</span><span class="o">();</span> <span class="c1">// B</span>
       <span class="k">new</span> <span class="nf">E</span><span class="o">().</span><span class="na">say</span><span class="o">();</span> <span class="c1">// B</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>


<p>子类<strong>优先继承父类的方法</strong>，如果父类没有相同签名的方法，才继承接口的<code>default</code>方法。</p>
<h2 id="interfaceinterface"><code>interface</code>继承<code>interface</code></h2>
<div class="hlcode"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mb</span><span class="o">;</span>

<span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>

    <span class="n">String</span> <span class="nf">what</span><span class="o">();</span>

    <span class="k">default</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;A:&quot;</span> <span class="o">+</span> <span class="n">what</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**</span>
<span class="cm"> * interface 的继承 可以重写 default 方法</span>
<span class="cm"> */</span>
<span class="kd">interface</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span><span class="o">{</span>

    <span class="n">String</span> <span class="nf">how</span><span class="o">();</span>

    <span class="nd">@Override</span>
    <span class="k">default</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;B:&quot;</span> <span class="o">+</span> <span class="n">what</span><span class="o">());</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">class</span> <span class="nc">C</span> <span class="kd">implements</span> <span class="n">A</span><span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;I&#39;m C&quot;</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">say</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;C:&quot;</span> <span class="o">+</span> <span class="n">what</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">D</span> <span class="kd">implements</span> <span class="n">B</span><span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;I&#39;m D&quot;</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">how</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;how I&#39; m D&quot;</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
<span class="kd">class</span> <span class="nc">E</span> <span class="kd">implements</span> <span class="n">A</span><span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;I&#39;m E&quot;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
       <span class="k">new</span> <span class="nf">C</span><span class="o">().</span><span class="na">say</span><span class="o">();</span>
       <span class="k">new</span> <span class="nf">D</span><span class="o">().</span><span class="na">say</span><span class="o">();</span>
       <span class="k">new</span> <span class="nf">E</span><span class="o">().</span><span class="na">say</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>
<span class="cm">/*output</span>

<span class="cm">A:I&#39;m C</span>
<span class="cm">B:I&#39;m D</span>
<span class="cm">A:I&#39;m E</span>
<span class="cm"> */</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 doctording.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-02-08 21:33:25</p>
      </span>
    </div>

    
    
  </body>
</html>